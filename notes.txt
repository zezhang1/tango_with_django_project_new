应用中的静态文件可以理解为不变的文件。不过，有时还要使用可变的媒体文件（media file）。
这类文件可由用户或管理员上传，因此可能会变化。比如说，用户的头像就是媒体文件，电商网
站中的商品图片也是媒体文件

首先，打开 Django 项目配置目录中的 settings.py 模块。我们将在这个文件中添加一些内容。与静
态文件一样，媒体文件也放在文件系统中专门的一个目录中。因此，要告诉 Django 这个目录的位
置。
在 settings.py 模块的顶部，找到 BASE_DIR、TEMPLATE_DIR 和 STATIC_DIR 变量。在它们后面加上
MEDIA_DIR：
MEDIA_DIR = os.path.join(BASE_DIR, 'media')

然后在 settings.py 中找个地方添加两个变量：MEDIA_ROOT 和 MEDIA_URL。Django 伺服媒体文件时会
用到这两个变量。
MEDIA_ROOT = MEDIA_DIR
MEDIA_URL = '/media/'

MEDIA_ROOT 变量告诉 Django 在哪里寻找上传的媒体文件，MEDIA_URL 变量则指明通过什么 URL 伺
服媒体文件。这样设置之后，上传的 cat.jpg 文件在 Django 开发服务器中将通过 http://localhost:8000/media/cat.jpg 访问。

后面在模板中引入上传的内容时，如果能方便引用 MEDIA_URL 路径就好了。为了方便这样的操
作，Django 提供了模板上下文处理器。严格来说，现在无需这么做，但是趁机加上也没关系。

找到 settings.py 文件中的 TEMPLATES 列表，里面嵌套着 context_processors 列表。在
context_processors 列表中添加一个处理器，django.template.context_processors.media。添加
之后，context_processors 列表应该类似下面这样：
'context_processors': [
'django.template.context_processors.debug',
'django.template.context_processors.request',
'django.contrib.auth.context_processors.auth',
'django.contrib.messages.context_processors.messages',
'django.template.context_processors.media'
],

调整 URL
在开发环境中伺服媒体文件的最后一步是，让 Django 使用 MEDIA_URL 伺服媒体内容。打开项目的
urls.py 模块，修改 urlpatterns 列表，调用 static() 函数：
urlpatterns = [
...
...
] + static(settings.MEDIA_URL, document_root=settings.MEDIA_ROOT)
此外，还要在 urls.py 模块的顶部添加下述 import 语句：
from django.conf import settings
from django.conf.urls.static import static
现在可以通过 /media/ URL 访问 media 目录中的媒体文件了。

伺服媒体文件的步骤与伺服静态文件差不多。
➊ 把媒体文件放到项目的 media 目录中。这个目录由项目的 settings.py 模块中的 MEDIA_ROOT
变量设定。
➋ 在模板中使用 {{ MEDIA_URL }} 上下文变量引用媒体文件。例如，引用上传的图像
cat.jpg：<img src="{{ MEDIA_URL}}cat.jpg" />。